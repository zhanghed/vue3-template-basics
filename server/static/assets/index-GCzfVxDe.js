import{d as P,r as d,A as T,a,o as f,c as b,b as e,w as o,e as z,B as A,C as E,g as w,h as I,F as L,m as O,t as x,_ as $}from"./index-ln1m7lOg.js";import{c as C}from"./index-0EBxD2gN.js";const j={class:"orders"},q={class:"dialog-footer"},m=100,G=P({__name:"index",setup(H){let _=d();const c=d(0),v=d(1),p=d(!1),g=d(),n=d({id:null,status:null}),k=async()=>{const s={};n.value.id&&(s.id=n.value.id),n.value.status&&(s.status=n.value.status);const l=await C(s,0,m);_.value=l.data.orders,c.value=l.data.count};T(v,async s=>{const l=m*(s-1),u=await C({},l,m);_.value=u.data.orders,c.value=u.data.count});const h=s=>{p.value=!0,g.value=s};return(s,l)=>{const V=a("el-input"),u=a("el-form-item"),i=a("el-option"),B=a("el-select"),y=a("el-button"),U=a("el-form"),r=a("el-table-column"),N=a("el-table"),S=a("el-pagination"),D=a("el-card"),F=a("el-dialog");return f(),b("div",j,[e(U,{class:"form",inline:!0,model:n.value},{default:o(()=>[e(u,{label:""},{default:o(()=>[e(V,{class:"el-form-item",modelValue:n.value.id,"onUpdate:modelValue":l[0]||(l[0]=t=>n.value.id=t),modelModifiers:{trim:!0},placeholder:"订单编号",clearable:""},null,8,["modelValue"])]),_:1}),e(u,{class:"el-form-item",label:""},{default:o(()=>[e(B,{modelValue:n.value.status,"onUpdate:modelValue":l[1]||(l[1]=t=>n.value.status=t),modelModifiers:{trim:!0},placeholder:"订单状态",clearable:""},{default:o(()=>[e(i,{label:"已备货",value:"已备货"}),e(i,{label:"已出库",value:"已出库"}),e(i,{label:"配送中",value:"配送中"}),e(i,{label:"已完成",value:"已完成"}),e(i,{label:"售后中",value:"售后中"})]),_:1},8,["modelValue"])]),_:1}),e(u,null,{default:o(()=>[e(y,{type:"primary",onClick:k},{default:o(()=>[w("查询")]),_:1})]),_:1})]),_:1},8,["model"]),e(N,{data:z(_),height:"80vh",style:{width:"100%"},onCellClick:h},{default:o(()=>[e(r,{prop:"id",label:"订单编号"}),e(r,{prop:"name",label:"姓名"}),e(r,{prop:"phone",label:"电话"}),e(r,{prop:"address",label:"地址"}),e(r,{prop:"price",label:"金额"}),e(r,{prop:"status",label:"状态"})]),_:1},8,["data"]),A(e(S,{"current-page":v.value,"onUpdate:currentPage":l[2]||(l[2]=t=>v.value=t),"page-size":m,layout:"total, prev, pager, next",total:c.value},null,8,["current-page","total"]),[[E,c.value]]),e(F,{modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=t=>p.value=t),title:"详情",width:"30%"},{footer:o(()=>[I("span",q,[e(y,{type:"primary",onClick:l[3]||(l[3]=t=>p.value=!1)},{default:o(()=>[w(" 确认 ")]),_:1})])]),default:o(()=>[e(D,null,{default:o(()=>[(f(!0),b(L,null,O(g.value,(t,M)=>(f(),b("div",{key:t},x(M)+" : "+x(t),1))),128))]),_:1})]),_:1},8,["modelValue"])])}}}),Q=$(G,[["__scopeId","data-v-9039d192"]]);export{Q as default};
